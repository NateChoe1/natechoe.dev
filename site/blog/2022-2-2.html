<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" href="/resources/style.css">
	</head>
	<body>
		<h1>Directly modifying memory values in Linux</h1>
		<p>This is going to be a pretty short post detailing a pretty cool thing that you can do in Linux. If you have access to a Linux system right now, run <code>ls /proc</code>. You should see several things, but what we care about now are the directories of the form <code>/proc/[PID]</code></p>
		<p>You see, <code>/proc</code> is a pseudo-filesystem, meaning that its contents aren't actually stored on disk, but rather created dynamically with each read. If you run <code>ls /proc/[PID]</code> to see the contents of one of these directories, or <code>ls /proc/self</code> to see the contents of this directory for the current process, you'll see several pieces of information about the process itself. For example, <code>/proc/[PID]/environ</code> contains the environment variables of any given process.</p>
		<p>Perhaps the 2 most interesting files in here are <code>/proc/[PID]/maps</code> and <code>/proc/[PID]/mem</code>. <code>/proc/[PID]/maps</code> shows the memory map of that process, including (among other things) the address spaces that each map takes up, and the permissions that the current process has on it. If you <code>cat</code> out one of these files, you may notice that you have quite a few privileges on many processes. This means that you can open <code>/proc/[PID]/mem</code>, the actual memory of that process, and just change a few values in there. To demonstrate this, I wrote 2 programs.</p>

		<p>printvalue.c:</p>
		<div class="code">
			<iframe src="/blog/files/printvalue.txt" height="170" width="100%" frameborder="0"></iframe>
		</div>
		<p>changevalue.c:</p>
		<div class="code">
			<iframe src="/blog/files/changevalue.txt" height="335" width="100%" frameborder="0"></iframe>
		</div>

		<p>After compiling and running printvalue.c, you might get something like this:</p>
		<div class="code">
			<iframe src="/blog/files/pvalueout.txt" height="80" width="100%" frameborder="0"></iframe>
		</div>
		<p>Then after running changevalue.c and putting in input similar to</p>
		<div class="code">
			<iframe src="/blog/files/cvalueout.txt" height="80" width="100%" frameborder="0"></iframe>
		</div>
		<p>You'll see that the output of printvalue.c has changed!</p>
		<div class="code">
			<iframe src="/blog/files/newpvalueout.txt" height="140" width="100%" frameborder="0"></iframe>
		</div>
		<p>That's it, just a neat thing that you can do in Linux.</p>
	</body>
</html>
